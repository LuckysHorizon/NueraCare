# Quick Start: Generate Tasks with Groq AI

## ğŸš€ Step 1: Start the Backend

```bash
cd backend
uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

Expected output:
```
Uvicorn running on http://0.0.0.0:8000
```

## ğŸ“ Step 2: Test Groq Generation

Replace `your_clerk_id` with your actual Clerk user ID:

```bash
python test_groq_generation.py "your_clerk_id"
```

**Example:**
```bash
python test_groq_generation.py "user_399lIslRMLqlOqSBEBkhty0kJEB"
```

## ğŸ“Š Expected Output

```
âœ… SUCCESS! Generated 3 tasks

Message: Generated 3 personalized tasks using Groq AI

ğŸ“Œ Task 1:
   Title: Check blood sugar levels
   Description: Monitor blood sugar with glucometer before breakfast
   Category: health-check
   Priority: high
   Generated by Groq: True

ğŸ“Œ Task 2:
   Title: Take prescribed medications
   Description: Take Metformin and Lisinopril with meals
   Category: medication
   Priority: high
   Generated by Groq: True

ğŸ“Œ Task 3:
   Title: 30-minute moderate exercise
   Description: Walk or light physical activity to manage diabetes
   Category: exercise
   Priority: medium
   Generated by Groq: True
```

## ğŸ¯ Step 3: Verify Tasks in App

1. **Open the Expo app**
2. **Go to Home screen**
3. **Check "Today's Focus" section**
4. **Should show 3 generated tasks** (if no tasks exist)

Monitor console logs:
```
ğŸ¤– No tasks found, generating Groq tasks...
âœ… Auto-generated and saved 3 Groq tasks to Sanity
ğŸ“‹ Displaying 3 generated tasks
```

## ğŸ”§ Manual Testing with cURL

```bash
curl -X POST http://localhost:8000/api/tasks/generate-groq \
  -H "Content-Type: application/json" \
  -d '{
    "clerkId": "user_399lIslRMLqlOqSBEBkhty0kJEB",
    "userHealthData": {
      "age": 45,
      "firstName": "John",
      "conditions": ["diabetes", "hypertension"],
      "medications": ["Metformin"],
      "activityLevel": "moderate"
    }
  }'
```

## ğŸ› Debugging

### Check Backend Logs

Look for these patterns:
- âœ… `ğŸ¤– Calling Groq API` - API call started
- âœ… `âœ… Groq API responded successfully` - Got response
- âœ… `âœ… Successfully parsed JSON with 3 tasks` - Parsed response
- âŒ Any `âŒ Error` messages for failures

### Check Frontend Logs

Press `j` in Expo terminal to see logs:
- `ğŸš€ Calling Groq API to generate tasks...` - Started
- `âœ… Auto-generated and saved tasks to Sanity` - Saved
- `ğŸ“‹ Displaying 3 generated tasks` - Displayed

### Common Issues

| Issue | Solution |
|-------|----------|
| `GROQ_API_KEY not found` | Add to `.env` in backend folder |
| `Cannot connect to localhost:8000` | Start backend: `uvicorn main:app --reload` |
| `Tasks not appearing in app` | Check if Sanity token is valid |
| `Timeout error` | Groq API is slow, try again |

## ğŸ“š Full Documentation

See [GROQ_GENERATION_GUIDE.md](./GROQ_GENERATION_GUIDE.md) for complete details.

## âœ… Checklist

- [ ] Backend running on port 8000
- [ ] `GROQ_API_KEY` set in `.env`
- [ ] `SANITY_API_TOKEN` set in `.env`
- [ ] Test script runs successfully
- [ ] Tasks appear in app
- [ ] Backend logs show Groq calls
- [ ] Frontend logs show task display
